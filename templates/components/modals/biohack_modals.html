<div x-show="bioHacksOpen" class="fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4" x-cloak>
    <div @click.outside="bioHacksOpen = false" class="glass-card w-full max-w-lg rounded-[32px] relative flex flex-col max-h-[85vh] overflow-hidden animate-scale-in">
        <div class="p-6 border-b border-white/5 flex justify-between items-center">
             <h2 class="text-xl font-bold" x-text="selectedTool?.name"></h2>
             <button @click="bioHacksOpen = false" class="text-white/50 hover:text-white">âœ•</button>
        </div>
        <div class="p-8 overflow-y-auto custom-scroll flex-1">
            <p class="text-white/50 mb-6" x-text="selectedTool?.desc"></p>
            <div class="space-y-6">
                <template x-for="input in selectedTool?.inputs">
                    <div>
                        <label class="block text-xs font-bold text-blue-400 uppercase tracking-wider mb-2" x-text="input.l"></label>
                        <template x-if="input.options">
                            <div class="relative">
                                <select x-model="toolInputs[input.k]" class="w-full bg-[#1A1A1A] border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-blue-500 transition-all appearance-none cursor-pointer">
                                    <option value="" disabled selected x-text="input.p"></option>
                                    <template x-for="opt in input.options"><option :value="opt" x-text="opt"></option></template>
                                </select>
                            </div>
                        </template>
                        <template x-if="!input.options">
                            <input type="text" x-model="toolInputs[input.k]" :placeholder="input.p" class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-blue-500 transition-all">
                        </template>
                    </div>
                </template>
                <button @click="runTool" :disabled="toolLoading" class="w-full py-3 rounded-xl bg-blue-600 hover:bg-blue-500 text-white font-bold transition-all shadow-lg shadow-blue-900/20 disabled:opacity-50">Generate</button>
            </div>
            <div x-show="toolResult" class="mt-10 pt-10 border-t border-white/10 animate-scale-in">
                <h3 class="text-xs font-bold text-green-400 uppercase tracking-wider mb-4">AI Analysis</h3>
                <div class="p-6 rounded-2xl bg-white/5 border border-white/5 text-sm leading-relaxed whitespace-pre-line" x-text="toolResult"></div>
            </div>
        </div>
    </div>
</div>

<div x-show="showMeditation" class="fixed inset-0 z-[100] bg-[#050505] flex flex-col items-center justify-center p-6" x-transition.opacity x-cloak>
     <button @click="toggleMeditation" class="absolute top-8 right-8 text-white/50 hover:text-white transition">âœ• Close</button>

     <div class="relative w-64 h-64 mb-12 flex items-center justify-center">
         <div class="absolute inset-0 bg-indigo-500/20 rounded-full blur-[40px] animate-breathe"></div>
         <div class="w-48 h-48 rounded-full border border-white/10 flex items-center justify-center relative z-10 animate-breathe">
             <div class="text-6xl">ðŸ§˜</div>
         </div>
     </div>

     <h2 class="text-4xl font-bold mb-4" x-text="meditationActive ? formattedMeditationTime : 'Ready?'"></h2>
     <p class="text-white/40 mb-12">Focus on your breath. Inhale... Exhale...</p>

     <div class="flex gap-4">
         <button @click="startMeditation" x-show="!meditationActive" class="px-8 py-4 rounded-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold text-lg transition shadow-lg shadow-indigo-900/30">Start Session</button>
         <button @click="stopMeditation" x-show="meditationActive" class="px-8 py-4 rounded-full bg-white/10 hover:bg-white/20 text-white font-bold text-lg transition">Pause</button>
     </div>
</div>