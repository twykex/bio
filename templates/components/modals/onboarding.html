<div x-show="showOnboarding" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm" x-cloak x-transition.opacity>
    <div class="glass-card w-full max-w-2xl p-8 rounded-3xl relative overflow-hidden" @click.outside="if(onboardingStep === 2) { showOnboarding = false; onboardingStep = 0; }">

        <!-- Step 1: Welcome -->
        <div x-show="onboardingStep === 0" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 translate-x-10" x-transition:enter-end="opacity-100 translate-x-0">
            <div class="flex flex-col items-center text-center">
                <div class="w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center text-4xl mb-6 animate-scale-in">
                    âœ…
                </div>
                <h2 class="text-3xl font-bold mb-4">Analysis Complete</h2>
                <p class="text-white/60 mb-8 max-w-md">
                    BioFlow has successfully parsed your bloodwork and cross-referenced it with optimal health markers.
                </p>
                <button @click="onboardingStep++" class="px-8 py-3 bg-blue-600 hover:bg-blue-500 rounded-xl font-bold transition-all hover:scale-105">
                    See What's Possible
                </button>
            </div>
        </div>

        <!-- Step 2: Key Features -->
        <div x-show="onboardingStep === 1" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 translate-x-10" x-transition:enter-end="opacity-100 translate-x-0" style="display: none;">
            <h2 class="text-2xl font-bold mb-6 text-center">Your Health Command Center</h2>
            <div class="grid grid-cols-2 gap-4 mb-8">
                <div class="p-4 rounded-xl bg-white/5 border border-white/5">
                    <div class="text-2xl mb-2">ðŸ“Š</div>
                    <h3 class="font-bold mb-1">Status</h3>
                    <p class="text-xs text-white/50">View real-time red flags and optimized biomarkers.</p>
                </div>
                <div class="p-4 rounded-xl bg-white/5 border border-white/5">
                    <div class="text-2xl mb-2">ðŸ¥—</div>
                    <h3 class="font-bold mb-1">Nutrition</h3>
                    <p class="text-xs text-white/50">AI-generated meal plans based on your deficiencies.</p>
                </div>
                <div class="p-4 rounded-xl bg-white/5 border border-white/5">
                    <div class="text-2xl mb-2">ðŸ’ª</div>
                    <h3 class="font-bold mb-1">Fitness</h3>
                    <p class="text-xs text-white/50">Workouts tailored to your energy levels.</p>
                </div>
                <div class="p-4 rounded-xl bg-white/5 border border-white/5">
                    <div class="text-2xl mb-2">ðŸ¤–</div>
                    <h3 class="font-bold mb-1">Assistant</h3>
                    <p class="text-xs text-white/50">Chat with a Functional Medicine Doctor agent.</p>
                </div>
            </div>
            <div class="flex justify-center">
                <button @click="onboardingStep++" class="px-8 py-3 bg-white/10 hover:bg-white/20 border border-white/10 rounded-xl font-bold transition-all">
                    Next
                </button>
            </div>
        </div>

        <!-- Step 3: Ready -->
        <div x-show="onboardingStep === 2" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 translate-x-10" x-transition:enter-end="opacity-100 translate-x-0" style="display: none;">
             <div class="flex flex-col items-center text-center">
                <div class="w-20 h-20 bg-blue-500/20 rounded-full flex items-center justify-center text-4xl mb-6 animate-pulse">
                    ðŸš€
                </div>
                <h2 class="text-3xl font-bold mb-4">You're All Set</h2>
                <p class="text-white/60 mb-8 max-w-md">
                    Explore your dashboard. If you have questions, the AI Assistant is ready to help.
                </p>
                <button @click="showOnboarding = false; onboardingStep = 0" class="px-8 py-3 bg-blue-600 hover:bg-blue-500 rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-blue-500/30">
                    Enter Dashboard
                </button>
            </div>
        </div>

        <!-- Progress Dots -->
        <div class="flex justify-center gap-2 mt-8">
            <div class="w-2 h-2 rounded-full transition-colors" :class="onboardingStep === 0 ? 'bg-blue-500' : 'bg-white/20'"></div>
            <div class="w-2 h-2 rounded-full transition-colors" :class="onboardingStep === 1 ? 'bg-blue-500' : 'bg-white/20'"></div>
            <div class="w-2 h-2 rounded-full transition-colors" :class="onboardingStep === 2 ? 'bg-blue-500' : 'bg-white/20'"></div>
        </div>

    </div>
</div>
